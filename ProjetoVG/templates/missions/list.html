{% extends "base.html" %}
{% load static %}

{% block body_class %}dashboard-page{% endblock %}
{% block title %}MissÃµes | VentureGotchi{% endblock %}

{% block content %}
<main class="dashboard">
  <section class="card missions">
    <h2>MissÃµes</h2>

    {% if missions %}
    <ul class="mission-list">
      {% for mission in missions %}
      <li class="mission">
        <span class="mission-title">ðŸ“Œ {{ mission.title }}</span>
        <span class="mission-xp">+{{ mission.xp_reward }} XP</span>

        <div style="margin-top: 10px;">
          {% if mission.id in completed_missions %}
          <span style="color: green; font-weight: bold;">
            âœ” ConcluÃ­da
          </span>
          <a class="btn" href="{% url 'missions:uncomplete' mission.id %}" style="margin-left: 10px;">
            Desmarcar
          </a>
          {% else %}
          <a class="btn" href="{% url 'missions:complete' mission.id %}">
            Concluir
          </a>
          {% endif %}
        </div>

      </li>
      {% endfor %}
    </ul>
    {% else %}
    <p>Nenhuma missÃ£o cadastrada.</p>
    {% endif %}

    <div style="margin-top: 16px;">
      <a class="btn" href="{% url 'core:dashboard' %}">Voltar ao Dashboard</a>
    </div>
  </section>
</main>
{% endblock %}